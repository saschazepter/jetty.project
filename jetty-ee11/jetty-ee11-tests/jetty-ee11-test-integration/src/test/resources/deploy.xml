<?xml version="1.0"?><!DOCTYPE Configure PUBLIC "-//Jetty//Configure//EN" "https://www.eclipse.org/jetty/configure_10_0.dtd">

<Configure id="Server" class="org.eclipse.jetty.server.Server">
  <Call id="Environment" class="org.eclipse.jetty.util.component.Environment" name="ensure">
    <Arg>ee11</Arg>
  </Call>

  <Call name="addBean">
    <Arg>
      <New id="DeploymentManager" class="org.eclipse.jetty.deploy.DeploymentManager">
        <Set name="contexts">
          <Ref refid="Contexts" />
        </Set>
        
        <Call name="addAppProvider">
         <Arg>
          <New id="WebAppProvider" class="org.eclipse.jetty.deploy.providers.ContextProvider">
            <Set name="monitoredDirName">
              <Call name="resolvePath" class="org.eclipse.jetty.xml.XmlConfiguration">
                <Arg>target</Arg>
                <Arg>webapps</Arg>
              </Call>
            </Set>

            <Set name="scanInterval">1</Set>

            <Call name="configureEnvironment">
              <Arg>ee11</Arg>
              <Set name="contextHandlerClass">org.eclipse.jetty.ee11.webapp.WebAppContext</Set>
              <Set name="extractWars">true</Set>
              <Set name="containerScanJarPattern">
                <Property name="jetty.deploy.containerScanJarPattern">
                  <Default>.*/jakarta.servlet-api-[^/]*\.jar$|.*jakarta.servlet.jsp.jstl-.*\.jar$</Default>
                </Property>
              </Set>
              <Set name="webInfScanJarPattern" property="jetty.deploy.webInfScanJarPattern" />
              <Set name="servletContainerInitializerExclusionPattern" property="jetty.deploy.servletContainerInitializerExclusionPattern" />
              <Set name="servletContainerInitializerOrder" property="jetty.deploy.servletContainerInitializerOrder" />
            </Call>
          </New>
        </Arg>
      </Call>
      </New>
    </Arg>
  </Call>
</Configure>
